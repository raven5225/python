#!/usr/bin/python
import sys, replace

start = r'$=~[];$={___:++$,$$$$:(![]+"")[$],__$:++$,$_$_:(![]+"")[$],_$_:++$,$_$$:({}+"")[$],$$_$:($[$]+"")[$],_$$:++$,$$$_:(!""+"")[$],$__:++$,$_$:++$,$$__:({}+"")[$],$$_:++$,$$$:++$,$___:++$,$__$:++$};$.$_=($.$_=$+"")[$.$_$]+($._$=$.$_[$.__$])+($.$$=($.$+"")[$.__$])+((!$)+"")[$._$$]+($.__=$.$_[$.$$_])+($.$=(!""+"")[$.__$])+($._=(!""+"")[$._$_])+$.$_[$.$_$]+$.__+$._$+$.$;$.$$=$.$+(!""+"")[$._$$]+$.__+$._+$.$+$.$$;$.$=($.___)[$.$_][$.$_];$.$($.$($.$$+"\""+'
end = r'+"\"")())();'
 
with open(sys.argv[1], "rb") as f:
	r = f.read()
 
r = r.replace(start, "").replace(end, "")
print r
 
subst = [
     ['$.$___','8'],
     ['$.$__$','9'],
     ['$.$_$_','a'],
     ['$.$_$$','b'],
     ['$.$$__','c'],
     ['$.$$_$','d'],
     ['$.$$$_','e'],
     ['$.$$$$','f'],
     ['$.___','0'],
     ['$.__$','1'],
     ['$._$_','2'],
     ['$._$$','3'],
     ['$.$__','4'],
     ['$.$_$','5'],
     ['$.$$_','6'],
     ['$.$$$','7'],
     ['$.$_', 'c'],
     ['$._$', 'o'],
     ['$.$$', 'n'],
     ['$.__', 't'],
     ['$.$', 'r'],
     ['$._', 'u'],
     [r'"\\"' , '\\'],
     ["\"\\\\\\\\\"", "\\\\"],
     ["+", ""],
     ]
 
for s in subst:
	r = r.replace(s[0], s[1])
print r
print 
r = r.replace("+","").replace("\"","").replace('(![])[2]',"l")
print r

#//Ange Albertini, BSD Licence 2011
#./jjencoder_decoder.py blob.txt | perl -pe 's/\\([0-1][0-7]{1,2}|[0-7]{1,2})/chr(oct($1))/eg' | perl -pe 's/\\//eg'
